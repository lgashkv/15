import requests
from bs4 import BeautifulSoup
KEYWORDS = ['слушать', 'парсинг']
res = requests.get('https://habr.com/ru/all/')
import time

def get_all(res):
    time.sleep(0.3)  
    soup = BeautifulSoup(res.text, 'html.parser')
    posts = soup.find_all('article', class_='post')
    for post in posts:
        link = post.find('a', class_='post__title_link').get('href')
        date = post.find('span', class_='post__time').text
        title = post.find('h2', 'post__title').text.strip('\n')
        text = post.find('div', class_='post__text').text
        if any([keywords.lower() in title for keywords in KEYWORDS]):
            print(date,title,link,text)
get_all(res) 
__________________________
 import json
import requests
url = ('https://identityprotection.avast.com/v1/web/query/site-breaches/unauthorized-data')
EMAIL = ['xxx@gmail.com']
headers = {
    'Accept': 'application/json, text/plain',
    'Accept-Encoding': 'gzip, deflate, br',
    'Accept-Language': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7',
    'Connection': 'keep-alive',
    'Content-Length': '44',
    'Content-Type': 'application/json;charset=UTF-8',
    'Host': 'identityprotection.avast.com',
    'Origin': 'https://www.avast.com',
    'Referer': 'https://www.avast.com/',
    'Sec-Fetch-Dest': 'empty',
    'Sec-Fetch-Mode': 'cors',
    'Sec-Fetch-Site': 'same-site',
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/88.0.4324.190 Safari/537.36',
    'Vaar-Header-App-Build-Version': '1.0.0',
    'Vaar-Header-App-Product': 'hackcheck-web-avast',
    'Vaar-Header-App-Product-Name': 'hackcheck-web-avast',
    'Vaar-Version': '0'
}
params = {
    'EA':  EMAIL
}
r =  requests.post(url, data = json.dumps(params), headers = headers)    
r.json()

_________________________________
import json
import requests
url = ['https://identityprotection.avast.com/v1/web/query/site-breaches/unauthorized-data']
EMAIL = ['xxx@gmail.com']
headers = {
    'Vaar-Version':  '0',
    'Vaar-Header-App-Product': 'hackcheck-web-avast'
}
params = {
    'EA':  EMAIL
}
r =  requests.post(url, data = json.dumps(params), headers = headers)    
r.json()
InvalidSchema: No connection adapters were found for "['https://identityprotection.avast.com/v1/web/query/site-breaches/unauthorized-data']".  
